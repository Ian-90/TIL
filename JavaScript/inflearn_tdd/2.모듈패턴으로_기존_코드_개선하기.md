## 클릭카운터 모듈 - 스펙1

- ClickCounter는 카운터 데이터를 다루는 모듈 (전역 공간에 있는 conter 변수를 ClickCounter 내부에서 관리하자)
- 첫번째 스펙 - "ClickCounter 모듈의 getValue()는 카운터 값을 반환한다."

  - red

  ```javascript
  describe("App.ClickCounter", () => {
    describe("getValue()", () => {
      it("초기값이 0인 카운터 값을 반환한다", () => {
        const counter = App.ClickCounter();
        expect(counter.getValue()).toBe(0);
      });
    });
  });
  ```

  - green

  ```javascript
  var App = App || {};

  App.ClickCounter = () => {
    return {
      getValue() {
        return 0;
      }
    };
  };
  ```

  - blue

  ```javascript
  var App = App || {};

  App.ClickCounter = () => {
    let value = 0;
    return {
      getValue() {
        return value;
      }
    };
  };
  ```

## 클릭카운터 모듈 - 스펙2

- beforeEach - it 함수 호출 직전에 실행되는 jasmine 함수이다. 중복코드를 beforeEach로 옮기자.

  - 실행순서

  ```javascript
  describe("components", () => {
    beforeEach(() => {}); // 첫번째
    afterEach(() => {}); // 세번째
    it("test1", () => {}); // 두번째
  });
  ```

- 두번째 스펙 - "ClickCounter 모듈의 increase()는 카운터 값을 1만큼 증가한다."

  - red

  ```javascript
  describe("increase()", () => {
    it("카운터를 1 올린다", () => {
      // 준비
      const counter = App.ClickCounter();
      // 실행
      counter.increase();
      // 단언
      expect(counter.getValue()).toBe(1);
    });
  });
  ```

  - green

  ```javascript
  var App = App || {};

  App.ClickCounter = () => {
    return {
      getValue() {
        return 0;
      },
      increase() {
        value++;
      }
    };
  };
  ```

  - blue - 초기값이 0이 아닐경우 increase() 실행결과가 1이 아닐수가 있다.

  ```javascript
  describe("increase()", () => {
    it("카운터를 1 올린다", () => {
      const initValue = counter.getValue();
      counter.increase();
      expect(counter.getValue()).toBe(initValue + 1);
    });
  });
  ```
